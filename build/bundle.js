function e(e){e.paused?e.play():e.pause()}function t(e,t){const n=e.querySelector("i");n.textContent="",n.textContent=t.paused?"play_arrow":"paused"}function n(e,t){e.currentTime+="rewind"===t?-10:10}function o(e,t){const n=e.currentTime/e.duration*100;t.style.width=`${n}%`}function r(e,t,n){const o=n.offsetX/t.offsetWidth*e.duration;e.currentTime=o}function c(e){e.classList.toggle("hidden")}function d(e,t,n){return t.textContent+=n.srcElement.error.message||n.message||"",e.showModal(),!0}const i=document.querySelector("#play-pause"),u=document.querySelector("video"),l=document.querySelector("#rewind"),s=document.querySelector("#fast-forward"),a=document.querySelector("#volume"),m=document.querySelector("#progress-indicator"),f=document.querySelector("#progress-bar"),v=document.querySelector("#load-file"),w=document.querySelector("#file-input"),S=document.querySelector("#load-text-input"),y=document.querySelector("#text-input"),L=document.querySelector("#on-full-screen"),p=document.querySelector("#unlock-btn"),E=document.querySelector("dialog"),q=document.querySelector("dialog p"),k=document.querySelector("dialog button");i.addEventListener("click",(()=>e(u))),u.addEventListener("play",(()=>t(i,u))),u.addEventListener("pause",(()=>t(i,u))),l.addEventListener("click",(()=>n(u,"rewind"))),s.addEventListener("click",(()=>n(u,"forward"))),u.addEventListener("volumechange",function(e,t){const n=e.querySelector("i");n.textContent="",n.textContent=t.muted?"volume_off":"volume_up"}(a,u)),a.addEventListener("click",(()=>function(e){e.muted=!e.muted}(u))),window.addEventListener("keydown",(e=>{"ArrowUp"===e.code?u.volume+=.1:"ArrowDown"===e.code&&(u.volume-=.1)})),u.addEventListener("timeupdate",(()=>o(m,u))),window.addEventListener("keyup",(t=>{if("Space"===t.code)e(u);else if("ArrowLeft"===t.code)n(u,"rewind");else{if("ArrowRight"!==t.code)return;n(u,"forward")}})),u.addEventListener("timeupdate",(()=>o(u,m)));let g=!1;f.addEventListener("click",(e=>r(u,f,e))),f.addEventListener("mousedown",(()=>g=!0)),f.addEventListener("mouseup",(()=>g=!1)),f.addEventListener("mousemove",(e=>g&&r(u,f,e))),v.addEventListener("click",(()=>w.click())),w.addEventListener("change",(e=>function(e,t){const n=t.target.files[0],o=URL.createObjectURL(n);e.src=o}(u,e))),S.addEventListener("click",(()=>(c(y),y.focus()))),y.addEventListener("focusout",(()=>c(y))),y.addEventListener("keypress",(e=>function(e,t){"Enter"===t.key&&(t.preventDefault(),e.src=t.data)}(u,e))),L.addEventListener("click",(()=>{!async function(e){const t=e.document;let n=await t.documentElement,o=n.requestFullScreen||n.webkitRequestFullScreen||n.mozRequestFullScreen||n.msRequestFullScreen;if(o)return o.call(n),!0;if(void 0!==e.ActiveXObject){let t=new e.ActiveXObject("WScript.Shell");if(null!==t)t.SendKeys("{F11}")}}(window),async function(e){const t=e.document;(t.fullScreen||t.mozFullScreen||t.webkitIsFullScreen)&&setTimeout((function(){e.screen.orientation.lock("landscape-primary")}),200)}(window),c(L),c(p)})),p.addEventListener("click",(()=>{!function(e){const t=e.document;if(void 0!==e.ActiveXObject){let t=new e.ActiveXObject("WScript.Shell");null!==t&&t.SendKeys("{F11}")}else t.exitFullscreen()}(window),function(e){const t=e.document;(t.fullScreen||t.mozFullScreen||t.webkitIsFullScreen)&&e.screen.orientation.unlock()}(window),c(L),c(p)})),window.addEventListener("error",(e=>d(E,q,e))),u.addEventListener("error",(e=>d(E,q,e))),k.addEventListener("click",(()=>function(e){e.close()}(E))),window.addEventListener("beforeunload",(()=>function(e,t){e.setItem("videoTime",t.currentTime),e.setItem("videoName",t.src)}(sessionStorage,u))),window.addEventListener("load",(()=>function(e,t){const n=e.getItem("videoTime"),o=e.getItem("videoName"),r=t.src;n&&o==r&&(t.currentTime=parseFloat(n))}(sessionStorage,u)));
